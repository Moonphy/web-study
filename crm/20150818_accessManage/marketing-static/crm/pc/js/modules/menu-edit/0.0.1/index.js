define("modules/menu-edit/0.0.1/index",["common","layer"],function(require,exports,module){function load(id,callback){$.ajax({url:"/auth/edit/resource",data:"resourceId="+id,errorMsg:"获取菜单现有信息失败！",callback:function(data){callback.call(this,data[0]||{})}})}var menuEdit,common=require("common"),$=common.jquery,layer=require("layer"),id=$.utils.getqs("id");if($.isEmpty(id))return void $.keyNotFound();var resourceCode=$("#resourceCode"),resourceName=$("#resourceName"),resourceURL=$("#resourceURL"),resourceMethodType=$("#resourceMethodType"),parentId=$("#parentId"),state=$("#state"),resourceMemo=$("#resourceMemo");$("#backBtn").on("click",function(){window.history.back()}),load(id,function(data){resourceCode.val(data.resourceCode),resourceName.val(data.resourceName),resourceURL.val(data.resourceURL),resourceMethodType.val(data.resourceMethodType),parentId.val(data.parentId),state.val(data.state),resourceMemo.val(data.resourceMemo)}),$("#submitBtn").on("click",function(){return $.isEmpty(resourceCode.val())?void layer.tips("请输入菜单编码",resourceCode):$.isEmpty(resourceName.val())?void layer.tips("请输入菜单名称",resourceName):$.isEmpty(resourceURL.val())?void layer.tips("请输入菜单URL",resourceURL):$.isEmpty(resourceMethodType.val())?void layer.tips("请选择请求类型",resourceMethodType):$.isEmpty(parentId.val())?void layer.tips("请输入父级ID",parentId):$.isEmpty(state.val())?void layer.tips("请选择状态",state):$.isEmpty(resourceMemo.val())?void layer.tips("请输入备注",resourceMemo):void $.ajax({url:"/auth/update/resource",type:"POST",traditional:!0,data:{resourceId:id,resourceCode:resourceCode.val(),resourceName:resourceName.val(),resourceURL:resourceURL.val(),resourceMethodType:resourceMethodType.val(),state:state.val(),parentId:parentId.val(),resourceMemo:resourceMemo.val()},errorMsg:"抱歉，编辑菜单信息失败！",callback:function(data){$.alert("菜单信息编辑成功！","s")}})}),module.exports=menuEdit});