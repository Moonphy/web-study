define("modules/coupon-list/0.0.1/index",["common","pagination","layer","tpl","modules/coupon-list/0.0.1/src/list-tpl"],function(require,exports,module){function getBaseFilterParams(){var t=$(".filter .group input").serialize();return void 0==t?"":t}function goPage(page){$.ajax({url:"/coupon/find/list",data:"current="+page+"&size=20&"+getBaseFilterParams(),errorMsg:"抱歉，拉取数据失败！",callback:function(data){pagination.init({target:".pager",total:data.total,eachCount:data.size,currentPage:data.current,callback:goPage}),list.empty(),tpl(listtpl).render(data,function(render){list.append(render.replace(/undefined/g,"").replace(/null/g,""))})}})}var couponList,common=require("common"),$=common.jquery,pagination=require("pagination"),tpl=(require("layer"),require("tpl")),listtpl=require("modules/coupon-list/0.0.1/src/list-tpl"),list=$("#list");goPage(0),$(".btn").on("click",function(){var ops=getBaseFilterParams();goPage(0,ops)}),module.exports=couponList});