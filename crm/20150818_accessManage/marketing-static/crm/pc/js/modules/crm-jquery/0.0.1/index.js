define("modules/crm-jquery/0.0.1/index",["jquery"],function(require,exports,module){var $=require("jquery");$.ajaxSetup({dataType:"json",dataFilter:function(data,dataType){var self=this;if("json"!=dataType)return data;if(-1!=data.indexOf("<!DOCTYPE HTML>")){if(-1!=data.indexOf("<strong>登录</strong>")){$.alert("请登录！！");var loginModal=$.layer.open({id:"loginModal",type:2,title:" ",shade:[.8,"#111"],shift:6,scrollbar:!1,closeBtn:!1,move:!1,content:"/login-modal?mode=modal",area:["550px","330px"]});window.loginSuccess=function(){$.layer.close(loginModal),$.layer.msg("重新登录成功，正在恢复请求...",{icon:1,time:1500}),$.ajax(self)}}else-1!=data.indexOf("404 ERROR")?$.alert("抱歉，404错误！"):-1!=data.indexOf("500 ERROR")&&$.alert("抱歉，500错误！");return"#error"}return data=JSON.parse(data),data.success&&0===data.errorCode?JSON.stringify(data):void(self.errorMsg?$.alert(self.errorMsg+" 错误编码："+data.errorCode,"e"):$.msg(data.msg||"服务器错误，错误编码："+data.errorCode))},error:function(jqXHR,textStatus,errorMsg){200===jqXHR.status?-1!==String(errorMsg).indexOf("SyntaxError: Unexpected token #"):0==jqXHR.status?console&&console.log("用户手动终止请求..."):$.alert('发送AJAX请求到"'+this.url+'"时出错['+jqXHR.status+"]："+errorMsg,"2",{})},success:function(data){data&&"#error"!=data&&this.callback.call(this,data.model)}}),$.fn.serializeObject=function(){var o={},a=this.serializeArray();return $.each(a,function(){o[this.name]?(o[this.name].push||(o[this.name]=[o[this.name]]),o[this.name].push(this.value||"")):o[this.name]=this.value||""}),o},module.exports=$});