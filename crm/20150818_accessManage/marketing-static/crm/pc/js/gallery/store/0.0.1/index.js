this.localStorage||function(n){function e(){var e,r=[],u=!0;for(var s in c)c.hasOwnProperty(s)&&(u=!1,e=c[s]||"",r.push(l(s)+f+l(e)));n.name=u?t:o+l(t)+i+r.join(a)}var t,o="localStorage:",r=/^([^=]+)(?:=(.*))?$/,i="?",f="=",a="&",l=encodeURIComponent,u=decodeURIComponent,c={},s={};!function(n){if(n&&0===n.indexOf(o)){var e=n.split(/[:?]/);e.shift(),t=u(e.shift())||"";for(var i,f,l,s=e.join(""),d=s.split(a),p=0,h=d.length;h>p;p++)i=d[p].match(r),i&&i[1]&&(f=u(i[1]),l=u(i[2])||"",c[f]=l)}else t=n||""}(n.name),s.setItem=function(n,t){n&&"undefined"!=typeof t&&(c[n]=String(t),e())},s.getItem=function(n){return c.hasOwnProperty(n)?c[n]:null},s.removeItem=function(n){c.hasOwnProperty(n)&&(c[n]=null,delete c[n],e())},s.clear=function(){c={},e()},s.valueOf=function(){return c},s.toString=function(){var e=n.name;return 0===e.indexOf(o)?e:o+e},n.localStorage=s,"function"==typeof define&&define("gallery/store/0.0.1/index",function(n,e,t){t.exports=s})}(this);