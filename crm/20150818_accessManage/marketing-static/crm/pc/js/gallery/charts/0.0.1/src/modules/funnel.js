define("gallery/charts/0.0.1/src/modules/funnel",function(t,e,n){n.exports=function(t){"use strict";var e=t.getOptions(),n=e.plotOptions,r=t.seriesTypes,o=t.merge,i=function(){},a=t.each,s=t.pick;return n.funnel=o(n.pie,{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,dataLabels:{connectorWidth:1,connectorColor:"#606060"},size:!0,states:{select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}}}),r.funnel=t.extendClass(r.pie,{type:"funnel",animate:i,translate:function(){var t,e,n,r,o,s,l,p,c,h,d,u=function(t,e){return/%$/.test(t)?e*parseInt(t,10)/100:parseInt(t,10)},f=0,g=this,y=g.chart,b=g.options,k=b.reversed,m=y.plotWidth,C=y.plotHeight,v=0,W=b.center,w=u(W[0],m),L=u(W[1],C),Y=u(b.width,m),A=u(b.height,C),H=u(b.neckWidth,m),O=u(b.neckHeight,C),T=A-O,X=g.data,x="left"===b.dataLabels.position?1:0;g.getWidthAt=e=function(t){return t>A-O||A===O?H:H+(Y-H)*((A-O-t)/(A-O))},g.getX=function(t,n){return w+(n?-1:1)*(e(k?C-t:t)/2+b.dataLabels.distance)},g.center=[w,L,A],g.centerX=w,a(X,function(t){f+=t.y}),a(X,function(a){d=null,r=f?a.y/f:0,s=L-A/2+v*A,c=s+r*A,t=e(s),o=w-t/2,l=o+t,t=e(c),p=w-t/2,h=p+t,s>T?(o=p=w-H/2,l=h=w+H/2):c>T&&(d=c,t=e(T),p=w-t/2,h=p+t,c=T),k&&(s=A-s,c=A-c,d=d?A-d:null),n=["M",o,s,"L",l,s,h,c],d&&n.push(h,d,p,d),n.push(p,c,"Z"),a.shapeType="path",a.shapeArgs={d:n},a.percentage=100*r,a.plotX=w,a.plotY=(s+(d||c))/2,a.tooltipPos=[w,a.plotY],a.slice=i,a.half=x,v+=r})},drawPoints:function(){var t=this,e=t.options,n=t.chart,r=n.renderer;a(t.data,function(n){var o=n.options,i=n.graphic,a=n.shapeArgs;i?i.animate(a):n.graphic=r.path(a).attr({fill:n.color,stroke:s(o.borderColor,e.borderColor),"stroke-width":s(o.borderWidth,e.borderWidth)}).add(t.group)})},sortByAngle:function(t){t.sort(function(t,e){return t.plotY-e.plotY})},drawDataLabels:function(){var t,e,n,o,i,a=this.data,s=this.options.dataLabels.distance,l=a.length;for(this.center[2]-=2*s;l--;)n=a[l],t=n.half,e=t?1:-1,i=n.plotY,o=this.getX(i,t),n.labelPos=[0,i,o+(s-5)*e,i,o+s*e,i,t?"right":"left",0];r.pie.prototype.drawDataLabels.call(this)}}),e.plotOptions.pyramid=t.merge(e.plotOptions.funnel,{neckWidth:"0%",neckHeight:"0%",reversed:!0}),t.seriesTypes.pyramid=t.extendClass(t.seriesTypes.funnel,{type:"pyramid"}),t}});