define("gallery/suggest/0.0.1/index",function(e,t,s){var l=function(e){!function(e){e.suggest=function(t,s){function l(){var e=f.offset();d.css({top:e.top+t.offsetHeight+"px",left:e.left+"px"})}function a(e){if(/27$|38$|40$/.test(e.keyCode)&&d.is(":visible")||/^13$|^9$/.test(e.keyCode)&&c())switch(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,e.keyCode){case 38:o();break;case 40:u();break;case 13:n();break;case 27:d.hide()}else f.val().length!=p&&(v&&clearTimeout(v),v=setTimeout(i,s.delay),p=f.val().length)}function i(){var t=e.trim(f.val());r(t)}function r(t){var l="";if(""==t){for(h in s.hot_list)l+='<li rel="'+s.hot_list[h][0]+'"><a href="#'+h+'"><span>'+s.hot_list[h][2]+"</span>"+s.hot_list[h][1]+"</a></li>";l='<div class="gray ac_result_tip">\u8bf7\u8f93\u5165\u4e2d\u6587/\u62fc\u97f3\uff0c\u6309\u56de\u8f66\u9009\u62e9</div><ul>'+l+"</ul>"}else{for(var a=0;a<s.source.length;a++){var i=new RegExp("^"+t+".*$","im");(i.test(s.source[a][0])||i.test(s.source[a][1])||i.test(s.source[a][2])||i.test(s.source[a][3]))&&(l+='<li rel="'+s.source[a][0]+'"><a href="#'+a+'"><span>'+s.source[a][2]+"</span>"+s.source[a][1]+"</a></li>")}""==l?suggest_tip='<div class="gray ac_result_tip">\u5bf9\u4e0d\u8d77\uff0c\u627e\u4e0d\u5230\uff1a'+t+"</div>":suggest_tip='<div class="gray ac_result_tip">'+t+"\uff0c\u6309\u62fc\u97f3\u6392\u5e8f</div>",l=suggest_tip+"<ul>"+l+"</ul>"}d.html(l).show(),d.children("ul").children("li:first-child").addClass(s.selectClass),d.children("ul").children("li").mouseover(function(){d.children("ul").children("li").removeClass(s.selectClass),e(this).addClass(s.selectClass)}).click(function(e){e.preventDefault(),e.stopPropagation(),n()})}function c(){if(!d.is(":visible"))return!1;var e=d.children("ul").children("li."+s.selectClass);return e.length||(e=!1),e}function n(){$currentResult=c(),$currentResult&&(f.val($currentResult.children("a").html().replace(/<span>.+?<\/span>/i,"")),d.hide(),e(s.dataContainer)&&e(s.dataContainer).val($currentResult.attr("rel")),s.onSelect&&s.onSelect.apply(f[0]))}function u(){$currentResult=c(),$currentResult?$currentResult.removeClass(s.selectClass).next().addClass(s.selectClass):d.children("ul").children("li:first-child").addClass(s.selectClass)}function o(){$currentResult=c(),$currentResult?$currentResult.removeClass(s.selectClass).prev().addClass(s.selectClass):d.children("ul").children("li:last-child").addClass(s.selectClass)}var d,f=e(t).attr("autocomplete","off"),v=!1,p=0;(""==e.trim(f.val())||"\u4e2d\u6587/\u62fc\u97f3"==e.trim(f.val()))&&f.val("\u4e2d\u6587/\u62fc\u97f3").css("color","#aaa"),s.attachObject||(s.attachObject=e(document.createElement("ul")).appendTo("body")),d=e(s.attachObject),d.addClass(s.resultsClass),l(),e(window).load(l).resize(l),f.blur(function(){setTimeout(function(){d.hide()},200)}),f.focus(function(){"\u4e2d\u6587/\u62fc\u97f3"==e.trim(e(this).val())&&e(this).val("").css("color","#000"),""==e.trim(e(this).val())&&r("")}),f.click(function(){var t=e.trim(e(this).val());r(t),e(this).select()});try{d.bgiframe()}catch(C){}f.keyup(a)},e.fn.suggest=function(t,s){return t?(s=s||{},s.source=t,s.hot_list=s.hot_list||[],s.delay=s.delay||0,s.resultsClass=s.resultsClass||"ac_results",s.selectClass=s.selectClass||"ac_over",s.matchClass=s.matchClass||"ac_match",s.minchars=s.minchars||1,s.delimiter=s.delimiter||"\n",s.onSelect=s.onSelect||!1,s.dataDelimiter=s.dataDelimiter||"	",s.dataContainer=s.dataContainer||"#SuggestResult",s.attachObject=s.attachObject||null,this.each(function(){new e.suggest(this,s)}),this):void 0}}(e)};s.exports=l});