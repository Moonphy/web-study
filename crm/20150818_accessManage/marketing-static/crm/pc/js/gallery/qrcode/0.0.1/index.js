define("gallery/qrcode/0.0.1/index",["jquery","gallery/qrcode/0.0.1/src/qrcodealg"],function(t,e,o){var r=t("jquery"),i=t("gallery/qrcode/0.0.1/src/qrcodealg"),n=[],s=function(t){"string"==typeof t&&(t={text:t}),this.options=r.extend({},{text:"",render:"",width:256,height:256,correctLevel:3,background:"#ffffff",foreground:"#000000"},t);for(var e=null,o=0,s=n.length;s>o;o++)if(n[o].text==this.options.text&&n[o].text.correctLevel==this.options.correctLevel){e=n[o].obj;break}if(o==s&&(e=new i(this.options.text,this.options.correctLevel),n.push({text:this.options.text,correctLevel:this.options.correctLevel,obj:e})),this.options.render)switch(this.options.render){case"canvas":return this.createCanvas(e);case"table":return this.createTable(e);case"svg":return this.createSVG(e);default:return this.createDefault(e)}return this.createDefault(e)};s.prototype.createDefault=function(t){var e=document.createElement("canvas");return e.getContext?this.createCanvas(t):(SVG_NS="http://www.w3.org/2000/svg",document.createElementNS&&document.createElementNS(SVG_NS,"svg").createSVGRect?this.createSVG(t):this.createTable(t))},s.prototype.createCanvas=function(t){var e=document.createElement("canvas");e.width=this.options.width,e.height=this.options.height;for(var o=e.getContext("2d"),r=(this.options.width/t.getModuleCount()).toPrecision(4),i=this.options.height/t.getModuleCount().toPrecision(4),n=0;n<t.getModuleCount();n++)for(var s=0;s<t.getModuleCount();s++){o.fillStyle=t.modules[n][s]?this.options.foreground:this.options.background;var a=Math.ceil((s+1)*r)-Math.floor(s*r),h=Math.ceil((n+1)*r)-Math.floor(n*r);o.fillRect(Math.round(s*r),Math.round(n*i),a,h)}return e},s.prototype.createTable=function(t){var e=[];e.push('<table style="border:0px; margin:0px; padding:0px; border-collapse:collapse; background-color: '+this.options.background+';">');var o=-1,r=-1,i=-1,n=-1;o=i=Math.floor(this.options.width/t.getModuleCount()),r=n=Math.floor(this.options.height/t.getModuleCount()),0>=i&&(o=t.getModuleCount()<80?2:1),0>=n&&(r=t.getModuleCount()<80?2:1),foreTd='<td style="border:0px; margin:0px; padding:0px; width:'+o+"px; background-color: "+this.options.foreground+'"></td>',backTd='<td style="border:0px; margin:0px; padding:0px; width:'+o+"px; background-color: "+this.options.background+'"></td>',l=t.getModuleCount();for(var s=0;s<l;s++){e.push('<tr style="border:0px; margin:0px; padding:0px; height: '+r+'px">');for(var a=0;a<l;a++)e.push(t.modules[s][a]?foreTd:backTd);e.push("</tr>")}e.push("</table>");var h=document.createElement("span");return h.innerHTML=e.join(""),h.firstChild},s.prototype.createSVG=function(t){for(var e,o,i,n,s=t.getModuleCount(),a=this.options.height/this.options.width,h='<svg xmlns="http://www.w3.org/2000/svg" width="'+this.options.width+'px" height="'+this.options.height+'px" viewbox="0 0 '+10*s+" "+10*s*a+'">',d="<path ",l=' style="stroke-width:0.5;stroke:'+this.options.foreground+";fill:"+this.options.foreground+';"></path>',c=' style="stroke-width:0.5;stroke:'+this.options.background+";fill:"+this.options.background+';"></path>',p=0;s>p;p++)for(var u=0;s>u;u++)e=10*u,i=10*p*a,o=10*(u+1),n=10*(p+1)*a,h+=d+'d="M '+e+","+i+" L "+o+","+i+" L "+o+","+n+" L "+e+","+n+' Z"',h+=t.modules[p][u]?l:c;return h+="</svg>",r(h)[0]},o.exports=s});