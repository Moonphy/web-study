<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<div>你好吗，我是test.html</div>
<div id="log"></div>
<button id="btn-1">点我啊！！</button>
<script>
    'use strict';
    var promiseCount = 0;
    function testPromise(){
        var thisPromiseCount = ++promiseCount;
        var log = document.getElementById('log');

        log.insertAdjacentHTML('beforeend', thisPromiseCount + ') 开始(同步代码开始)<br/>')

        var p1 = new Promise(function (resolve, reject) {
            log.insertAdjacentHTML('beforeend', thisPromiseCount + ')Promise开始(异步代码开始)<br/>')

            window.setTimeout(function () {
                resolve(thisPromiseCount);
            }, Math.random() * 2000 + 1000);
        });

        p1.then(function (val) {
            // 输出一段信息和一个值
            log.insertAdjacentHTML('beforeend', val + ') Promise被满足了(异步代码结束)<br/>');
        });

        log.insertAdjacentHTML('beforeend', thisPromiseCount + ') 建立了Promise(同步代码结束)<br/><br/>');
    }
    testPromise();
</script>
<script src="//cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
<script src="test.js"></script>
<script>
    hello = new Hello();
    $('#btn-1').click(function () {
        hello.con()
    })
</script>
</body>
</html>