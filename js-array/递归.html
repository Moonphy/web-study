<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>4.2递归</title>
    <style>
        li.pass{
            color: green;
        }
        li.fail{
            color: red;
        }
    </style>
</head>
<body>
<ul id="results"></ul>
<script>
    // 断言
    function assert(value, desc){
        var li = document.createElement('li');
        li.className = value ? "pass" : "fail";
        li.appendChild(document.createTextNode(desc));
        document.getElementById('results').appendChild(li);
    }


    /*function chirp(n){
        return n > 1 ? chirp(n - 1) + "-chirp" : "chirp";
    }*/
    /*function chirp(n){
        if(n > 1){
            return chirp(n -1) + "-chirp"
        } else {
            return "chirp"
        }
    }*/
    //assert(chirp(3) == "chirp-chirp-chirp", "comes naturally");
    //console.log(chirp(4))
</script>
<!--<script>
    var ninja = {
        chirp: function (n) {
            return n > 1 ? this.chirp(n - 1) + "-chirp" : "chirp";
        }
    };
    assert(ninja.chirp(2) == "chirp-chirp", "hehe");

    var samurai = {
        chirp: ninja.chirp
    };
    ninja = {};
    try {
        assert(samurai.chirp(3) == "chirp-chirp-chirp", "对的")
    }catch(e){
        assert(false, "false")
    }
    console.log(samurai.chirp(3))
</script>-->
<!--<script>
    var ninja = {
        chirp: function signal(n){
            return n > 1 ? signal(n - 1) + "-chirp" : "chirp";
        }
    };
    assert(ninja.chirp(2) == "chirp-chirp", "hehe");

    var samurai = {
        chirp: ninja.chirp
    };
    ninja = {};
    assert(samurai.chirp(2) == "chirp-chirp", "hehe");
</script>-->
<!--<script>
    // 内联函数
    var ninja = function myNinja() {
        assert(ninja == myNinja, "true")
    };
    ninja();
    assert(typeof myNinja == "undefined", "true")
</script>-->
<!--<script>
    // 函数存储
    var store = {
        nextId: 1,
        cache: {},
        add: function (fn) {
            if (!fn.id){
                fn.id = store.nextId++;
                return !!(store.cache[fn.id] = fn);
            }
        }
    };
    function ninja(){}
    console.log(store.add(ninja));
    assert(store.add(ninja), "function was safely added");
    assert(store.add(ninja), "but it was only added once");
    console.log(store.add(ninja));

    // 自记忆函数——记忆之前算出的结果
    // 计算素数
    function isPrime(value){
        if(!isPrime.answers) isPrime.answers = {};
        if(isPrime.answers[value] != null){
            return isPrime.answers[value];
        }
        var prime = value != 1;
        for (var i = 2; i < value; i++){
            if(value % i == 0){
                prime = false;
                break;
            }
        }
        return isPrime.answers[value] = prime;
    }
    console.log(isPrime(5));
    console.log(isPrime(5));
    console.log(isPrime(599999999999999999999999999999999999999999999999999999999999999));
    console.log(isPrime(599999999999999999999999999999999999999999999999999999999999999));

</script>-->
<script>
    function merge(root){
        for(var i = 1; i < arguments.length; i++){
            for (var key in arguments[i]){
                root[key] = arguments[i][key];
            }
        }
        return root;
    }
    var merged = merge({name: "batou"},{city: "niihama"});
    console.log(merged.name);
    console.log(merged.city);
</script>
</body>
</html>